<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>触发自定义事件原生</title>
    <script src="Scripts/jquery-1.9.0.js"></script>
    <script type="text/javascript">

        Element.prototype.trigger = function (type, data) {
            var event = document.createEvent('HTMLEvents');
            event.initEvent(type, true, true);
            event.data = data || {};
            event.eventName = type;
            event.target = this;
            this.dispatchEvent(event);
            return this;
        };


        $(function () {
            window.onload = function () {
                var testTrigger = document.getElementById('testTrigger');
                if (window.attachEvent) {
                    testTrigger.attachEvent("tt", function () { alert('test') });
                }
                else if (window.addEventListener) {
                    testTrigger.addEventListener("click", function () { alert(this.name + 'addEventListener'); }, false);
                }


                function test() {
                    debugger;
                    var self = this;
                }
                testTrigger.trigger('tt');
            }
        
        });
    </script>
</head>
<body>

    <div>
        <a href="javascript:;" id="testTrigger">testTrigger</a>
    </div>
    <iframe src="js常用函数.html"></iframe>
    <textarea class="ignore-part" rows="4" readonly="readonly" data-field="PartNumbers">sadfasdf</textarea>
</body>
</html>
