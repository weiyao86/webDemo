<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style type="text/css">
#box {
    width:400px;
    height:50px;
    background:#000;
    color:#fff;
    line-height:50px;
}
</style>
<script type="text/javascript" src="tween.js"></script>
<script type="text/javascript">
function ani() {
    this.init.apply(this, arguments)
}
ani.prototype = {
    init: function(el) {
        el = typeof el == 'string' ? document.getElementById(el) : el;
        this.fx2(100, 600,
        function(x) {
            el.style.width = x + 'px';
        },
        function() {
            alert('oh yeah');
        });
    },
    fx: function(f, t, fn, callback) {
        var D = Date,
        d = new D,
        e, T = 500,
        F = function(x) {
            return tween.bounce(x);
        }
        return e = setInterval(function() {
            var z = Math.min(1, (new D - d) / T);
            if (false === fn( + f + (t - f) * F(z)) || z == 1) {
                if (callback && typeof callback == 'function') callback();
                clearInterval(e);
            }
        },
        10);
    },
    fx2: function(b, c, fn, callback) {
        var d = 50,
        t = 0,
        F = function(t, b, c, d) {
            return Tween.Bounce.easeOut(t, b, c, d)
        }
        var e = setInterval(function() {
            t++;
            if (false === fn(F(t, b, c, d)) || t == d) {
                if (callback && typeof callback == 'function') callback();
                clearInterval(e)
            }
        },
        10);
    }
}
window.onload = function() {
    var box = document.getElementById('box');
    box.onclick = function() {
        new ani(this);
    }
}
</script>
</head>
<body>
<div id="box">轻轻的点我一下。</div>
</body>
</html>