/*! grunt-test2015-10-29*/
!function(window){/**
JS封装类方法一
**/
function myClass(){this.name="zhangshan"}!function(window){function isArrayLike(obj){var length=obj.lenght,type=weiLib.type(obj);return 1===obj.nodeType&&length?!0:"array"===type||"function"!==type&&(0===length||"number"==typeof length&&length>0&&length-1 in obj)}var core_slice=Array.prototype.slice,core_version="0.0.1",core_deletedIds=[],core_push=core_deletedIds.push,class2type={},core_toString=class2type.toString;
//通过ID获取元素
weiLib={$:function(el){return"string"==typeof el&&(el=document.getElementById(el)),el},proxy:function(fn,context){
// Quick check to determine if target is callable, in the spec
// this throws a TypeError, but we will just return undefined.
// Quick check to determine if target is callable, in the spec
// this throws a TypeError, but we will just return undefined.
// Simulated bind
// Set the guid of unique handler to the same of original handler, so it can be removed
return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),"function"!=typeof fn?void 0:(args=core_slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(core_slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||weiLib.guid++,proxy)},
//返回距离doc文档(0,0)的坐标
offset:function(el){for(var offset={left:el.offsetLeft,top:el.offsetTop};el=el.offsetParent;)offset.left+=el.offsetLeft,offset.top+=el.offsetTop;return offset},rand:function(min,max){return Math.round(min+Math.random()*(max-min))},
//移动动画(后期加入队列)
animate:function(el,styleObj,timer,fn){function stop(next){var now=(new Date).getTime(),time=now-start;console.log("'i'am come in method:stop--startDate:"+start+"--endDate:"+now+"--result:"+time),window.clearTimeout(clrTime);for(var o in styleObj)el.style[o]=styleObj[o]+"px";setTimeout(function(){"function"==typeof fn&&fn.call(el,time)},20),next()}if(el){timer||(timer=4e3);var start=(new Date).getTime(),position={};clrTime=null,weiLib.queue(el,"animate",function(next){function starAnimate(){var timeflag,now=(new Date).getTime(),fragin=now-start,f=fragin/timer,navStyle=null,elStyle=null;if(1>f){for(var o in styleObj)navStyle=styleObj[o],elStyle=weiLib.offset(el)[o]||0,void 0==position[o]&&(position[o]=parseInt(weiLib.getStyle(el,o))||0),timeflag=Math.round(elStyle)!=navStyle,timeflag&&(elStyle=position[o]+(navStyle-position[o])*f,el.style[o]=elStyle+"px");clrTime=setTimeout(starAnimate,Math.min(25,timer-fragin))}else stop(next)}el.style.position="absolute",
// window.clearTimeout(clrTime);
starAnimate()}),weiLib.dequeue(el,"animate")}},guid:1,on:function(el,type,fn){el.addEventListener?el.addEventListener(type,fn,!1):el.attachEvent?el.attachEvent("on"+type,fn):el["on"+type]=fn},un:function(el,type,fn){el.removeEventListener?el.removeEventListener(type,fn,!1):el.detachEvent?el.detachEvent("on"+type,fn):el["on"+type]=null},evt:function(e){return e||window.event},ready:function(fn){window.onload=fn},error:function(msg){throw new Error(msg)},getStyle:function(obj,attr){return window.currentStyle?obj.currentStyle[attr]:window.getComputedStyle(obj,null)[attr]},cache:{},uuid:0,expando:"weiLib"+(core_version+Math.random()).replace(/\D/g,""),data:function(elem,key,value){
//检查元素上能否绑定数据(!flash)暂没做
var thisCache,ret,internalKey=weiLib.expando,getByName="string"==typeof key,isNode=1===elem.nodeType,cache=weiLib.cache,id=elem[internalKey]?elem[internalKey]:elem[internalKey]&&internalKey;return id||(isNode?elem[internalKey]=id=++weiLib.uuid:id=internalKey),cache[id]||(cache[id]={}),thisCache=cache[id],thisCache.data||(thisCache.data={}),thisCache=thisCache.data,void 0!==value&&(thisCache[key]=value),(ret=getByName?thisCache[key]:thisCache)?arguments.length>2?elem:ret:void 0},
//入队
queue:function(el,type,data){var q;return el?(type=(type||"fx")+"queue",q=weiLib.data(el,type),data&&(q?q.push(data):q=weiLib.data(el,type,weiLib.makeArray(data))),q||[]):void 0},
//出队
dequeue:function(el,type){type=type||"fx";
//取出事件列表
var queue=weiLib.queue(el,type),fn=queue.shift(),next=function(){weiLib.dequeue(el,type)},hooks={};fn&&fn.call(el,next,hooks)},clearqueue:function(el,type){return weiLib.queue(el,type,[])},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(arr)?weiLib.merage(ret,"string"==typeof arr?[arr]:arr):core_push.call(ret,arr)),ret},merage:function(first,second){var l=first.length,s=second.length,j=0;if("number"==typeof s)for(;s>j;j++)first[l++]=second[j];else for(;void 0!==second[j];)first[l++]=second[j++];return first.length=j,first},type:function(obj){return null==obj?String(obj):"object"==typeof obj||"function"==typeof obj?class2type[core_toString.call(obj)]||"object":typeof obj}},window.weiLib=window.w$=weiLib}(window),myClass.prototype={init:function(){alert("init")},load:function(){alert("load")}};/**
JS封装类方法二
**/
var my=function(){this.name="zhangshan"};my.prototype={init:function(){alert("init")},load:function(){alert("load")}};/**
JS封装类方法三
**/
var Moduls=Moduls||{};!function(){Moduls.myClassTest=function(){this.name="lisi",this.age=29},Moduls.youClassTest=function(){this.override="override"},Moduls.myClassTest.prototype={init:function(){alert("封包Jquery")},load:function(){alert("封包Jquery的Load方法")}},Moduls.youClassTest.prototype={init:function(){alert("init")}}}()}(WINDOW);
/*! grunt-test最后修改于:2015-10-29 */