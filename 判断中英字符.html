<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
    <link href="Css/promptMes.css" rel="stylesheet" />
    <script src="Scripts/jquery-1.9.0.js"></script>
    <script src="Scripts/plugin.js"></script>
    <script type="text/javascript">
        $(function () {
            var txtName = $("#txtName");

            $("#txtName").keyup(function () {
                fun(4);
            });

            function fun(num) {
                var vl = txtName.val();
                vl = getChooseChar(vl);
                if (vl / 2 > num) {
                    txtName.val(txtglobe);
                }
                else
                    txtglobe = txtName.val();

                $("#spanMsg").html("输入   " + vl + "  字符!");
                return false;
            }

            function getChooseChar(str) {
                var l = 0;

                str = str.split("");
                for (var i = 0; i < str.length; i++) {
                    if (str[i].charCodeAt(0) < 299)
                        l++;
                    else {
                        l += 2;
                    }
                }
                return l;
            }

            $("#btnOpenMsg").click(function () {
                $("#divTest").promptMes("this is testhis is testhis is test", { header: "title", msgDefault_w: 200, isLinefeed: false });
            });

        });
    </script>

    <style>
        html,body{height:100%;}
        .loading,.loading:after,.loading:before{
            position:fixed;
            top:0;
            left:0;
            right:0;
            bottom:0;
            margin:auto;
        }
        .loading{width:50px;height:50px;}
        .loading:after,.loading:before{
            border-radius: 110%;
            border:5px solid transparent;
            border-top-color:#333;
            width:50px;
            height:50px;
            box-shadow: 0 0 0 rgba(0, 0, 0, 0) inset;
            content: "";
        }
        .loading:before{
             border: 5px solid rgba(51, 51, 51, 0.25);
            /*animation:before 1s linear infinite;*/
        }
        .loading:after{
            animation:before 1s linear infinite;
        }

        @keyframes before{
            0%{transform:rotate(0deg);}
            100%{transform:rotate(360deg);}
        }
         @keyframes after{
            0%{transform:rotate(360deg);}
            100%{transform:rotate(0deg);}
        }


    </style>
</head>
<body>
    <form id="form1" runat="server">
        <div>
            <input id="txtName" type="text" value="" />&nbsp;
        
            <input type="button" value="Test" id="btnTest" />
            <span id="spanMsg"></span>
        </div>
        <input id="btnOpenMsg" type="button" value="openmsg" />
        <div id="divTest" style="width:400px;height:300px;float:left;border:1px solid green;">
            <span>搜狗拼音输入法</span>

        </div>
    </form>
    <div class="loading"></div>
</body>
</html>
